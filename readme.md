# Git 学习
这个项目中我们学习如何使用git。

Git中，存在工作区、暂存区、本地仓库以及远程仓库。

---
# 基础部分
这部分主要学习如何操控**工作区、暂存区以及本地仓库**，学习将代码提交到本地仓库。

## Git创建本地仓库
在项目对应的文件夹（路径/目录）中，输入`git init`即可，可看到该路径下新生成了`.git`文件夹。

另外，如果想指定一个目录为本地代码仓库，输入指定路径即可，即：`git init [路径]`。

若想从远程仓库中下载一个项目，可以使用`git clone`命令，即：`git clone [url]`，
这里`url`是项目路径。

## Git查看当前状态
使用`git status`命令可查看当前目录下的文件状态。
例如，如果工作区的文件没提交到暂存区，则会显示：Untracked files。

每操作一步，都可通过`git status`命令查看当前状态。

## 将文件提交到暂存区
这一步是**将工作区的内容提交到暂存区**，本质上是**暂存文件的更改**。

使用`git add`命令可提交至暂存区。该命令有如下几点：
* `git add .`：该命令将当前目录下的所有文件全部提交至暂存区。
* `git add [file1] [file2]`：该命令仅将指定文件提交至暂存区。

## 将文件从暂存区提交至本地仓库
使用`git commit`命令可提交至本地仓库。该命令有如下几点：
* `git commit -m`：`-m`参数可直接在后面添加提交信息或日志，例如`git commit -m "first commit"`，代表这是第一次提交。如果不使用这个参数，则将会进入类似vim的界面，手动输入信息。一般可能不会这么用，**因为每个公司都有自己的提交信息格式要求**。
* `git commit -a`：`-a`参数将所有已跟踪（tracked）文件中的修改**暂存并提交**，简化了对已跟踪文件的修改进行提交的过程。这意味着不需要在输入`git commit -a`命令之前手动输入`git add`命令来暂存更改。
  * 实习的时候一般使用的是这个命令。
  * 这个命令并没有使用`-m`这个参数，因此还是会进入类似vim的界面，然后手动输入状态信息。
* `git commit -v`：`-v`参数将显示所有差异（diff）信息。
* `git commit -amend`：`-amend`参数用于**修改最近一次提交命令**。可对最后一次提交编辑，例如发现提交信息有误、有文件被遗漏等。**该命令可能会造成后续的冲突问题。**
  * 案例：假设忘记提交一个文件`importance.txt`，且提交信息有误，可以首先将遗漏文件添加至暂存区：`git add importance.txt`，然后提交：`git commit -amend -m "添加importance.txt文件"`。

综上，我们一般使用`git commit -a`命令，其次是`git commit -m`命令。

## 查看Git提交日志
`git log`命令可查看本地仓库的历史提交记录。有如下几点：
* `git log --oneline`：`--oneline`参数可查看历史记录的简介版本。
* `git log -5`：这里`-5`可以查看最近的5次提交记录。
* `git log --stat`：`-stat`参数可以增加显示修改的文件与行数。
* `git log --author`：`--author`参数可以只显示特定作者的提交。

日志部分先记这么多就行。

## 查看文件每一行变更历史
`git blame [file]`可追踪文件中每一行的变更历史，包括作者、提交哈希、提交日期和提交消息等信息。

---
# 升阶部分
这部分主要学习如何将本地仓库中的代码提交到远程仓库，以及**远程仓库与本地仓库之间的交互**。

## 本地仓库与远程仓库建立联系
若当前已有一个Github或其他远程仓库，可使用如下命令建立二者联系：
```shell
  git remote add origin xxxxx
```
这里xxx代表远程仓库的url或者ssh连接方式，origin代表远程仓库的名字。
在完成这步骤之后，可通过`git remote -v`确认当前下载（fetch）推送（push）的是哪一个远程仓库。

如果当前指向了错误的仓库，则可通过以下命令进行修正：
```shell
  git remote set-url origin xxxxx
```
这里可以将仓库指向正确的地址。

## 变更分支名称
采用`git branch -m master main`命令可将当前名为master的分支修改为main。

## 远程仓库和本地仓库之间建立联系
使用`git fetch orgin main`命令。

## 变基
采用`git rebase origin main`命令可以将当前的代码应用到origin仓库的main分支上。

---


